name: Publish wiki

on:
  workflow_dispatch:
  push:
      branches:
        - "documentation/1584-actions-to-wiki"
jobs:
  generatewiki:
    name: Generate WIKI
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v3
      with:
        fetch-depth: 0

    - name: Set up GO
      uses: actions/setup-go@v3
      with:
        go-version: 1.23

    - name: Check submodule
      run: |
        make initwiki
        cd gopherciser.wiki
        ls